"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.commissionNumberToPerbill = void 0;
const neverthrow_1 = require("neverthrow");
/**
 * Converts a commission percentage to a perbill format.
 *
 * @param {number} value - The commission percentage (0-100).
 * @return {string} The commission value in perbill format.
 * @throws {Error} If the value is not an integer or is out of the 0-100 range.
 */
function commissionNumberToPerbill(value) {
    if (!Number.isInteger(value)) {
        return (0, neverthrow_1.err)("Commission cannot have decimal place. It needs to be a whole number.");
    }
    if (value < 0 || value > 100) {
        return (0, neverthrow_1.err)("Commission is limited to the following range: 0 - 100. It cannot be less than 0 or more than 100.");
    }
    let commission = value.toString().concat("0000000");
    // For some reason 0 commission is not defined as "0" but as "1".
    if (commission == "00000000") {
        commission = "1";
    }
    return (0, neverthrow_1.ok)(commission);
}
exports.commissionNumberToPerbill = commissionNumberToPerbill;
